{% load static %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jardim Primavera - Sistema de Gestão</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        
:root {
    
    --primary-color: #ffc107; 
    --primary-dark: #ffb300;
    --secondary-color: #343a40; 
    --secondary-dark: #212529;
    --accent-color: #ffd54f; 
    --accent-dark: #ffb300;
    
    
    --success-color: #28a745;
    --success-dark: #218838;
    --danger-color: #dc3545;
    --danger-dark: #c82333;
    --warning-color: #ffc107;
    --warning-dark: #e0a800;
    --info-color: #17a2b8;
    --info-dark: #138496;
    
    
    --light-color: #f8f9fa;
    --light-dark: #e9ecef;
    --dark-color: #343a40; 
    --dark-dark: #212529; 
    --text-color: #212529;
    --text-light: #6c757d;
    --text-dark: #000;
    --white: #ffffff;
        
    
    --gray-50: #fafafa;
    --gray-100: #f5f5f5;
    --gray-200: #eeeeee;
    --gray-300: #e0e0e0;
    --gray-400: #bdbdbd;
    --gray-500: #9e9e9e;
    --gray-600: #757575;
    --gray-700: #616161;
    --gray-800: #424242;
    --gray-850: #373737;
    --gray-900: #212121;
    
    
    --blue: #6c757d; 
    --green: #6c757d; 
    --orange: #ffc107; 
    --purple: #6c757d; 
    --red: #dc3545;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    font-size: 16px;
    line-height: 1.6;
    color: var(--text-color);
    background-color: var(--gray-100); 
    min-height: 100vh;
    display: flex;
}


.sidebar {
    width: 260px;
    height: 100vh;
    background-color: var(--gray-800); 
    color: var(--white);
    display: flex;
    flex-direction: column;
    position: fixed;
    left: 0;
    top: 0;
    z-index: 100;
    transition: all 0.3s ease;
    border-right: 3px solid var(--primary-color); /* Borda amarela */
}

.sidebar.collapsed {
    width: 80px;
}

.main-content {
    flex: 1;
    margin-left: 260px;
    transition: all 0.3s ease;
    max-width: calc(100% - 260px);
}

.main-content.expanded {
    margin-left: 80px;
    max-width: calc(100% - 80px);
}


.logo {
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    border-bottom: 1px solid rgba(255, 193, 7, 0.3); 
    background-color: var(--gray-850);
}

.logo i {
    font-size: 24px;
    color: var(--primary-color); 
}

.logo h2 {
    font-size: 22px;
    font-weight: 600;
    color: var(--white);
}

.sidebar.collapsed .logo h2 {
    display: none;
}

nav {
    flex: 1;
    padding: 20px 0;
}

nav ul {
    list-style: none;
}

nav ul li {
    padding: 12px 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-bottom: 5px;
    border-left: 3px solid transparent;
}

nav ul li:hover {
    background-color: rgba(255, 193, 7, 0.1); 
    border-left-color: var(--primary-color);
}

nav ul li.active {
    background-color: rgba(255, 193, 7, 0.2); 
    border-left-color: var(--primary-color); 
    position: relative;
}

nav ul li i {
    font-size: 18px;
    min-width: 24px;
    text-align: center;
    color: var(--gray-300);
}

nav ul li.active i {
    color: var(--primary-color); 
}

.sidebar.collapsed nav ul li span {
    display: none;
}

.sidebar-footer {
    padding: 15px 20px;
    border-top: 1px solid rgba(255, 193, 7, 0.3);
    font-size: 12px;
    background-color: var(--gray-850);
    color: var(--gray-400);
}

.sidebar.collapsed .sidebar-footer {
    text-align: center;
    padding: 15px 5px;
}

.sidebar.collapsed .sidebar-footer p:last-child {
    display: none;
}


header {
    background-color: var(--white);
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    padding: 15px 30px;
    position: sticky;
    top: 0;
    z-index: 50;
    border-bottom: 2px solid var(--primary-color); 
}

.header-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

#menu-toggle {
    background: none;
    border: none;
    font-size: 20px;
    cursor: pointer;
    color: var(--gray-600);
    padding: 8px;
    border-radius: 4px;
    transition: all 0.2s ease;
}

#menu-toggle:hover {
    background-color: rgba(255, 193, 7, 0.1);
    color: var(--primary-color);
}

.header-title h1 {
    font-size: 20px;
    font-weight: 600;
    color: var(--dark-color);
}

.current-date {
    font-size: 14px;
    color: var(--gray-600);
    background-color: var(--gray-100);
    padding: 8px 12px;
    border-radius: 20px;
    border: 1px solid var(--primary-color);
}


.content-area {
    padding: 30px;
    min-height: calc(100vh - 66px);
    background-color: var(--gray-50);
}

.page {
    display: none;
}

.page.active {
    display: block;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}


.dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    background-color: var(--white);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    border-left: 4px solid var(--primary-color);
}

.quick-actions {
    display: flex;
    gap: 15px;
}


.dashboard-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.stat-card {
    background-color: var(--white);
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    padding: 20px;
    display: flex;
    align-items: center;
    gap: 20px;
    border-left: 4px solid var(--primary-color);
    transition: all 0.2s ease;
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.stat-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.stat-icon i {
    font-size: 24px;
    color: var(--white);
}

.stat-icon.blue {
    background-color: var(--gray-700);
}

.stat-icon.green {
    background-color: var(--gray-600);
}

.stat-icon.orange {
    background-color: var(--primary-color); 
}

.stat-icon.purple {
    background-color: var(--gray-800);
}

.stat-info h3 {
    font-size: 14px;
    color: var(--gray-600);
    margin-bottom: 5px;
    font-weight: 500;
}

.stat-info p {
    font-size: 24px;
    font-weight: 600;
    color: var(--dark-color);
}

.dashboard-tables {
    margin-top: 30px;
}


.page-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    background-color: var(--white);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    border-left: 4px solid var(--primary-color);
}

.page-header h2, .dashboard-header h2 {
    font-size: 24px;
    font-weight: 600;
    color: var(--dark-color);
}


.table-container {
    background-color: var(--white);
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 30px;
    overflow-x: auto;
    border-top: 3px solid var(--primary-color);
}

.table-container h3 {
    font-size: 18px;
    margin-bottom: 15px;
    color: var(--dark-color);
    position: relative;
}

.table-container h3::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 50px;
    height: 2px;
    background-color: var(--primary-color);
}

table {
    width: 100%;
    border-collapse: collapse;
}

table th, table td {
    padding: 12px 15px;
    text-align: left;
}

table th {
    background-color: var(--gray-800);
    color: var(--white);
    font-weight: 500;
    text-transform: uppercase;
    font-size: 12px;
    letter-spacing: 0.5px;
}

table tr {
    border-bottom: 1px solid var(--gray-200);
}

table tr:last-child {
    border-bottom: none;
}

table tbody tr:hover {
    background-color: rgba(255, 193, 7, 0.05);
}


.badge {
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 12px;
    font-weight: 500;
    text-transform: uppercase;
    display: inline-block;
}

.badge.active {
    background-color: rgba(255, 193, 7, 0.2);
    color: var(--warning-dark);
    border: 1px solid var(--primary-color);
}

.badge.inactive {
    background-color: rgba(108, 117, 125, 0.2);
    color: var(--gray-700);
    border: 1px solid var(--gray-500);
}

.badge.present {
    background-color: rgba(40, 167, 69, 0.2);
    color: var(--success-dark);
    border: 1px solid var(--success-color);
}

.badge.absent {
    background-color: rgba(220, 53, 69, 0.2);
    color: var(--danger-dark);
    border: 1px solid var(--danger-color);
}


.btn {
    padding: 10px 15px;
    border-radius: 4px;
    border: none;
    font-weight: 500;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: all 0.2s ease;
}

.btn i {
    font-size: 14px;
}

.btn.primary {
    background-color: var(--primary-color);
    color: var(--dark-color);
    font-weight: 600;
}

.btn.primary:hover {
    background-color: var(--primary-dark);
    transform: translateY(-1px);
    box-shadow: 0 3px 8px rgba(255, 193, 7, 0.3);
}

.btn.secondary {
    background-color: var(--gray-600);
    color: var(--white);
}

.btn.secondary:hover {
    background-color: var(--gray-700);
}

.btn.danger {
    background-color: var(--danger-color);
    color: var(--white);
}

.btn.danger:hover {
    background-color: var(--danger-dark);
}

.btn.success {
    background-color: var(--success-color);
    color: var(--white);
}

.btn.success:hover {
    background-color: var(--success-dark);
}

.btn.warning {
    background-color: var(--warning-color);
    color: var(--dark-color);
    font-weight: 600;
}

.btn.warning:hover {
    background-color: var(--warning-dark);
}

.btn-icon {
    width: 36px;
    height: 36px;
    border-radius: 4px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
    border: none;
    cursor: pointer;
}

.btn-icon.edit {
    background-color: rgba(255, 193, 7, 0.1);
    color: var(--primary-color);
}

.btn-icon.edit:hover {
    background-color: var(--primary-color);
    color: var(--dark-color);
}

.btn-icon.delete {
    background-color: rgba(220, 53, 69, 0.1);
    color: var(--danger-color);
}

.btn-icon.delete:hover {
    background-color: var(--danger-color);
    color: var(--white);
}

.btn-icon.view {
    background-color: rgba(108, 117, 125, 0.1);
    color: var(--gray-700);
}

.btn-icon.view:hover {
    background-color: var(--gray-700);
    color: var(--white);
}

.actions-column {
    display: flex;
    gap: 5px;
}


.search-container {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
}

.search-container input {
    flex: 1;
    padding: 10px 15px;
    border: 1px solid var(--gray-300);
    border-radius: 4px;
    font-size: 14px;
}

.search-container input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.2);
}

.filters-container {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 20px;
    background-color: var(--white);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    border-top: 3px solid var(--primary-color);
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.filter-group label {
    font-size: 14px;
    color: var(--gray-600);
    font-weight: 500;
}

.filter-group select,
.filter-group input {
    padding: 8px 12px;
    border: 1px solid var(--gray-300);
    border-radius: 4px;
    font-size: 14px;
    min-width: 150px;
}

.filter-group select:focus,
.filter-group input:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.2);
}


.report-filters {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    margin-bottom: 20px;
    background-color: var(--white);
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    border-top: 3px solid var(--primary-color);
}

.report-summary {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 20px;
}

.summary-card {
    background-color: var(--white);
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
    text-align: center;
    border-left: 4px solid var(--primary-color);
    transition: all 0.2s ease;
}

.summary-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.summary-card h3 {
    font-size: 16px;
    color: var(--gray-600);
    margin-bottom: 10px;
}

.summary-card p {
    font-size: 24px;
    font-weight: 600;
    color: var(--dark-color);
}


.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.5);
}

.modal.active {
    display: block;
    animation: fadeIn 0.3s ease;
}

.modal-content {
    background-color: var(--white);
    margin: 10% auto;
    max-width: 500px;
    border-radius: 8px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
    animation: slideDown 0.3s ease;
    border-top: 4px solid var(--primary-color);
}

@keyframes slideDown {
    from { transform: translateY(-50px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.modal-header {
    padding: 15px 20px;
    border-bottom: 1px solid var(--gray-200);
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: var(--gray-50);
}

.modal-header h3 {
    font-size: 18px;
    color: var(--dark-color);
}

.close {
    font-size: 24px;
    font-weight: bold;
    color: var(--gray-500);
    cursor: pointer;
    transition: all 0.2s ease;
}

.close:hover {
    color: var(--primary-color);
    transform: scale(1.1);
}

.modal-body {
    padding: 20px;
}

.modal-footer {
    padding: 15px 20px;
    border-top: 1px solid var(--gray-200);
    display: flex;
    justify-content: flex-end;
    gap: 10px;
    background-color: var(--gray-50);
}


.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-size: 14px;
    color: var(--gray-600);
    font-weight: 500;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid var(--gray-300);
    border-radius: 4px;
    font-size: 14px;
    font-family: 'Poppins', sans-serif;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.2);
}


#toast-container {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 9999;
}

.toast {
    min-width: 300px;
    margin-bottom: 10px;
    padding: 15px 20px;
    border-radius: 4px;
    box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
    display: flex;
    align-items: center;
    gap: 15px;
    animation: slideIn 0.3s ease, fadeOut 0.5s ease 2.5s forwards;
}

@keyframes slideIn {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

@keyframes fadeOut {
    from { opacity: 1; }
    to { opacity: 0; }
}

.toast.success {
    background-color: var(--success-color);
    color: var(--white);
    border-left: 4px solid var(--white);
}

.toast.error {
    background-color: var(--danger-color);
    color: var(--white);
    border-left: 4px solid var(--white);
}

.toast.warning {
    background-color: var(--warning-color);
    color: var(--dark-color);
    border-left: 4px solid var(--dark-color);
}

.toast.info {
    background-color: var(--info-color);
    color: var(--white);
    border-left: 4px solid var(--white);
}

.toast i {
    font-size: 20px;
}


@media (max-width: 992px) {
    .sidebar {
        width: 80px;
    }
    
    .sidebar .logo h2,
    .sidebar nav ul li span,
    .sidebar .sidebar-footer p:last-child {
        display: none;
    }
    
    .main-content {
        margin-left: 80px;
        max-width: calc(100% - 80px);
    }
    
    .dashboard-stats,
    .report-summary {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    }
}

@media (max-width: 768px) {
    .content-area {
        padding: 20px;
    }
    
    .dashboard-stats,
    .report-summary {
        grid-template-columns: 1fr;
    }
    
    .filters-container,
    .report-filters {
        flex-direction: column;
    }
    
    .modal-content {
        width: 90%;
        margin: 10% auto;
    }
    
    .table-container {
        padding: 15px 10px;
    }
    
    table th, table td {
        padding: 10px 8px;
    }
    
    .dashboard-header,
    .page-header {
        flex-direction: column;
        gap: 15px;
        text-align: center;
    }
    
    .quick-actions {
        justify-content: center;
    }
}


li a {
  color: white;          
  text-decoration: none;  
}

li a:hover {
  color: #dddddd;       
}




    </style>
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <i class="fas fa-seedling"></i>
            <h2>Jardim Primavera</h2>
        </div>
        <nav>
            <ul>
                <li class="active" data-page="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </li>     
                <li data-page="funcionarios">
                    <i class="fas fa-users"></i>
                    <span>Funcionários</span>
                </li>
                <li data-page="setores">
                    <i class="fas fa-building"></i>
                    <span>Setores</span>
                </li>
                <li data-page="presencas">
                    <i class="fas fa-clipboard-check"></i>
                    <span>Controle de Ponto</span>
                </li>
                <li data-page="horarios">
                    <i class="fas fa-clock"></i>
                    <span>Horários de Trabalho</span>
                </li>
                <li data-page="relatorios">
                    <i class="fas fa-chart-bar"></i>
                    <span>Relatórios</span>
                </li>
                <li data-page="">
                    <a href="{% url 'calculadora_horas' %}">
                        <i class="fas fa-calculator"></i>
                        <span>Calculadora de Horas</span>
                    </a>
                </li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            <p>Sistema de Gestão</p>
            <p>Jardim Primavera v1.0.0</p>
        </div>
    </div>
              
    <div class="main-content">
        <header>
            <div class="header-content">
                <button id="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="header-title">
                    <h1>Sistema de Gestão - Jardim Primavera</h1>
                </div>
                <div class="current-date">
                    <span id="today-date"></span>
                </div>
            </div>
        </header>

        <div class="content-area">
            
            <div id="dashboard" class="page active">
                <div class="dashboard-header">
                    <h2>Dashboard</h2>
                    <div class="quick-actions">
                        <button id="btn-registrar-entrada" class="btn primary">
                            <i class="fas fa-sign-in-alt"></i> Registrar Entrada
                        </button>
                        <button id="btn-registrar-saida" class="btn secondary">
                            <i class="fas fa-sign-out-alt"></i> Registrar Saída
                        </button>
                    </div>
                </div>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Total de Funcionários</h3>
                            <p id="total-funcionarios">{{ total_funcionarios|default:"Carregando..." }}</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon green">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Presentes Hoje</h3>
                            <p id="presentes-hoje">{{ presentes_hoje|default:"Carregando..." }}</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon orange">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Presenças do Mês</h3>
                            <p id="presencas-mes">{{ presencas_mes|default:"Carregando..." }}</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Horas Totais do Mês</h3>
                            <p id="horas-mes">{{ horas_mes|default:"Carregando..." }}</p>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-tables">
                    <div class="table-container">
                        <h3>Presenças de Hoje</h3>
                        <table id="presencas-hoje-tabela">
                            <thead>
                                <tr>
                                    <th>Funcionário</th>
                                    <th>Setor</th>
                                    <th>Entrada</th>
                                    <th>Saída</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for presenca in presencas_hoje_lista %}
                                <tr>
                                    <td>{{ presenca.funcionario.nome }}</td>
                                    <td>{{ presenca.funcionario.setor.nome }}</td>
                                    <td>{{ presenca.entrada|date:"H:i"|default:"--:--" }}</td>
                                    <td>{{ presenca.saida|date:"H:i"|default:"--:--" }}</td>
                                    <td>
                                        <span class="status-badge {% if presenca.saida %}completo{% else %}presente{% endif %}">
                                            {% if presenca.saida %}Completo{% else %}Presente{% endif %}
                                        </span>
                                    </td>
                                </tr>
                                {% empty %}
                                <tr>
                                    <td colspan="5" class="text-center">Nenhuma presença registrada hoje</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Página de Funcionários -->
            <div id="funcionarios" class="page">
                <div class="page-header">
                    <h2>Gerenciar Funcionários</h2>
                    <button id="btn-novo-funcionario" class="btn primary">
                        <i class="fas fa-plus"></i> Novo Funcionário
                    </button>
                </div>

                <div class="search-container">
                    <input type="text" id="search-funcionario" placeholder="Buscar funcionário...">
                    <button class="btn secondary"><i class="fas fa-search"></i></button>
                </div>

                <div class="table-container">
                    <table id="funcionarios-tabela">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>CPF</th>
                                <th>Setor</th>
                                <th>Cargo</th>
                                <th>Email</th>
                                <th>Telefone</th>
                                <th>Data Admissão</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for funcionario in funcionarios %}
                            <tr>
                                <td>{{ funcionario.id }}</td>
                                <td>{{ funcionario.nome }}</td>
                                <td>{{ funcionario.cpf }}</td>
                                <td>{{ funcionario.setor.nome }}</td>
                                <td>{{ funcionario.cargo }}</td>
                                <td>{{ funcionario.email }}</td>
                                <td>{{ funcionario.telefone }}</td>
                                <td>{{ funcionario.data_admissao|date:"d/m/Y" }}</td>
                                <td>
                                    <span class="status-badge {% if funcionario.ativo %}ativo{% else %}inativo{% endif %}">
                                        {% if funcionario.ativo %}Ativo{% else %}Inativo{% endif %}
                                    </span>
                                </td>
                                <td class="actions-column">
                                    <button class="btn-icon edit" onclick="editarFuncionario({{ funcionario.id }})" title="Editar">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-icon delete" onclick="confirmarExclusaoFuncionario({{ funcionario.id }}, '{{ funcionario.nome }}')" title="Excluir">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="10" class="text-center">Nenhum funcionário cadastrado</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Página de Setores -->
            <div id="setores" class="page">
                <div class="page-header">
                    <h2>Gerenciar Setores</h2>
                    <button id="btn-novo-setor" class="btn primary">
                        <i class="fas fa-plus"></i> Novo Setor
                    </button>
                </div>

                <div class="search-container">
                    <input type="text" id="search-setor" placeholder="Buscar setor...">
                    <button class="btn secondary"><i class="fas fa-search"></i></button>
                </div>

                <div class="table-container">
                    <table id="setores-tabela">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>Descrição</th>
                                <th>Responsável</th>
                                <th>Número de Funcionários</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for setor in setores %}
                            <tr>
                                <td>{{ setor.id }}</td>
                                <td>{{ setor.nome }}</td>
                                <td>{{ setor.descricao }}</td>
                                <td>{{ setor.responsavel|default:"--" }}</td>
                                <td>{{ setor.funcionarios.count }}</td>
                                <td class="actions-column">
                                    <button class="btn-icon edit" onclick="editarSetor({{ setor.id }})" title="Editar">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-icon delete" onclick="confirmarExclusaoSetor({{ setor.id }}, '{{ setor.nome }}')" title="Excluir">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="6" class="text-center">Nenhum setor cadastrado</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Página de Presenças -->
            <div id="presencas" class="page">
                <div class="page-header">
                    <h2>Controle de Ponto</h2>
                    <button id="btn-nova-presenca" class="btn primary">
                        <i class="fas fa-plus"></i> Nova Presença
                    </button>
                </div>

                <div class="filters-container">
                    <form method="GET" id="form-filtros">
                        <div class="filter-group">
                            <label for="filtro-funcionario">Funcionário:</label>
                            <select name="funcionario" id="filtro-funcionario">
                                <option value="">Todos</option>
                                {% for funcionario in funcionarios %}
                                <option value="{{ funcionario.id }}" {% if request.GET.funcionario == funcionario.id|stringformat:"s" %}selected{% endif %}>
                                    {{ funcionario.nome }}
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="filtro-data-inicio">Data Início:</label>
                            <input type="date" name="data_inicio" id="filtro-data-inicio" value="{{ request.GET.data_inicio }}">
                        </div>
                        <div class="filter-group">
                            <label for="filtro-data-fim">Data Fim:</label>
                            <input type="date" name="data_fim" id="filtro-data-fim" value="{{ request.GET.data_fim }}">
                        </div>
                        <button type="submit" class="btn secondary">
                            <i class="fas fa-filter"></i> Filtrar
                        </button>
                    </form>
                </div>

                <div class="table-container">
                    <table id="presencas-tabela">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Funcionário</th>
                                <th>Setor</th>
                                <th>Data</th>
                                <th>Entrada</th>
                                <th>Saída</th>
                                <th>Horas Trabalhadas</th>
                                <th>Observação</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for presenca in presencas %}
                            <tr>
                                <td>{{ presenca.id }}</td>
                                <td>{{ presenca.funcionario.nome }}</td>
                                <td>{{ presenca.funcionario.setor.nome }}</td>
                                <td>{{ presenca.data|date:"d/m/Y" }}</td>
                                <td>{{ presenca.entrada|date:"H:i"|default:"--:--" }}</td>
                                <td>{{ presenca.saida|date:"H:i"|default:"--:--" }}</td>
                                <td>{{ presenca.horas_trabalhadas|default:"--:--" }}</td>
                                <td>{{ presenca.observacao|default:"--" }}</td>
                                <td class="actions-column">
                                    <button class="btn-icon edit" onclick="editarPresenca({{ presenca.id }})" title="Editar">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-icon delete" onclick="confirmarExclusaoPresenca({{ presenca.id }})" title="Excluir">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="9" class="text-center">Nenhuma presença registrada</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Página de Horários -->
            <div id="horarios" class="page">
                <div class="page-header">
                    <h2>Horários de Trabalho</h2>
                    <button id="btn-novo-horario" class="btn primary">
                        <i class="fas fa-plus"></i> Novo Horário
                    </button>
                </div>

                <div class="table-container">
                    <table id="horarios-tabela">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome</th>
                                <th>Entrada</th>
                                <th>Saída</th>
                                <th>Intervalo Início</th>
                                <th>Intervalo Fim</th>
                                <th>Carga Horária</th>
                                <th>Funcionários</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for horario in horarios %}
                            <tr>
                                <td>{{ horario.id }}</td>
                                <td>{{ horario.nome }}</td>
                                <td>{{ horario.entrada|date:"H:i" }}</td>
                                <td>{{ horario.saida|date:"H:i" }}</td>
                                <td>{{ horario.intervalo_inicio|date:"H:i"|default:"--:--" }}</td>
                                <td>{{ horario.intervalo_fim|date:"H:i"|default:"--:--" }}</td>
                                <td>{{ horario.carga_horaria_diaria }}h</td>
                                <td>{{ horario.funcionarios.count }}</td>
                                <td class="actions-column">
                                    <button class="btn-icon edit" onclick="editarHorario({{ horario.id }})" title="Editar">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-icon delete" onclick="confirmarExclusaoHorario({{ horario.id }}, '{{ horario.nome }}')" title="Excluir">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="9" class="text-center">Nenhum horário cadastrado</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Página de Relatórios -->
            <div id="relatorios" class="page">
                <div class="page-header">
                    <h2>Relatórios</h2>
                </div>

                <div class="report-filters">
                    <form method="GET" id="form-relatorio">
                        <div class="filter-group">
                            <label for="relatorio-mes">Mês:</label>
                            <select name="mes" id="relatorio-mes">
                                <option value="1" {% if request.GET.mes == "1" %}selected{% endif %}>Janeiro</option>
                                <option value="2" {% if request.GET.mes == "2" %}selected{% endif %}>Fevereiro</option>
                                <option value="3" {% if request.GET.mes == "3" %}selected{% endif %}>Março</option>
                                <option value="4" {% if request.GET.mes == "4" %}selected{% endif %}>Abril</option>
                                <option value="5" {% if request.GET.mes == "5" %}selected{% endif %}>Maio</option>
                                <option value="6" {% if request.GET.mes == "6" %}selected{% endif %}>Junho</option>
                                <option value="7" {% if request.GET.mes == "7" %}selected{% endif %}>Julho</option>
                                <option value="8" {% if request.GET.mes == "8" %}selected{% endif %}>Agosto</option>
                                <option value="9" {% if request.GET.mes == "9" %}selected{% endif %}>Setembro</option>
                                <option value="10" {% if request.GET.mes == "10" %}selected{% endif %}>Outubro</option>
                                <option value="11" {% if request.GET.mes == "11" %}selected{% endif %}>Novembro</option>
                                <option value="12" {% if request.GET.mes == "12" %}selected{% endif %}>Dezembro</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="relatorio-ano">Ano:</label>
                            <input type="number" name="ano" id="relatorio-ano" min="2020" max="2030" value="{{ request.GET.ano|default:current_year }}">
                        </div>
                        <button type="submit" class="btn primary">
                            <i class="fas fa-file-alt"></i> Gerar Relatório
                        </button>
                        <a href="{% url 'exportar_relatorio' %}?mes={{ request.GET.mes }}&ano={{ request.GET.ano }}" class="btn secondary">
                            <i class="fas fa-download"></i> Exportar
                        </a>
                    </form>
                </div>

                <div class="report-container">
                    <div class="report-summary">
                        <div class="summary-card">
                            <h3>Total de Presenças</h3>
                            <p id="relatorio-total-presencas">{{ relatorio.total_presencas|default:"-" }}</p>
                        </div>
                        <div class="summary-card">
                            <h3>Média de Horas por Dia</h3>
                            <p id="relatorio-media-horas">{{ relatorio.media_horas|default:"-" }}</p>
                        </div>
                        <div class="summary-card">
                            <h3>Total de Horas</h3>
                            <p id="relatorio-total-horas">{{ relatorio.total_horas|default:"-" }}</p>
                        </div>
                    </div>

                    <div class="table-container">
                        <table id="relatorio-tabela">
                            <thead>
                                <tr>
                                    <th>Funcionário</th>
                                    <th>Setor</th>
                                    <th>Total de Presenças</th>
                                    <th>Total de Horas</th>
                                    <th>Média Diária</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in relatorio_funcionarios %}
                                <tr>
                                    <td>{{ item.funcionario.nome }}</td>
                                    <td>{{ item.funcionario.setor.nome }}</td>
                                    <td>{{ item.total_presencas }}</td>
                                    <td>{{ item.total_horas }}</td>
                                    <td>{{ item.media_diaria }}</td>
                                </tr>
                                {% empty %}
                                <tr>
                                    <td colspan="5" class="text-center">Nenhum dado encontrado para o período selecionado</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Confirmação de Exclusão -->
    <div id="modal-confirmar-exclusao" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>
                    <i class="fas fa-exclamation-triangle"></i>
                    Confirmar Exclusão
                </h3>
                <span class="close" onclick="fecharModalConfirmacao()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="warning-icon">
                    <i class="fas fa-trash-alt"></i>
                </div>
                <div class="warning-text">
                    Tem certeza que deseja excluir:
                </div>
                <div id="item-nome-exclusao" class="item-name">
                    <!-- Nome do item será inserido aqui -->
                </div>
                <div class="permanent-warning">
                    <strong>Atenção:</strong> Esta ação é permanente e não pode ser desfeita.
                </div>
            </div>
            <div class="modal-footer">
                <button id="btn-confirmar-exclusao" class="btn confirm-delete">
                    <i class="fas fa-trash"></i>
                    Sim, Excluir Permanentemente
                </button>
                <button class="btn cancel-delete" onclick="fecharModalConfirmacao()">
                    <i class="fas fa-times"></i>
                    Cancelar
                </button>
            </div>
        </div>
    </div>

    <!-- Modal Registrar Entrada -->
    <div id="modal-registrar-entrada" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Registrar Entrada de Funcionário</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form method="POST" action="{% url 'registrar_entrada' %}">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="entrada-funcionario">Funcionário:</label>
                        <select name="funcionario" id="entrada-funcionario" required>
                            <option value="">Selecione o funcionário</option>
                            {% for funcionario in funcionarios_ativos %}
                            <option value="{{ funcionario.id }}">{{ funcionario.nome }} - {{ funcionario.setor.nome }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="entrada-observacao">Observação:</label>
                        <textarea name="observacao" id="entrada-observacao" rows="3"></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn primary">Registrar Entrada</button>
                        <button type="button" class="btn secondary modal-cancel">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Registrar Saída -->
    <div id="modal-registrar-saida" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Registrar Saída de Funcionário</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form method="POST" action="{% url 'registrar_saida' %}">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="saida-funcionario">Funcionário:</label>
                        <select name="funcionario" id="saida-funcionario" required>
                            <option value="">Selecione o funcionário</option>
                            {% for funcionario in funcionarios_presentes %}
                            <option value="{{ funcionario.id }}">{{ funcionario.nome }} - {{ funcionario.setor.nome }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="saida-observacao">Observação:</label>
                        <textarea name="observacao" id="saida-observacao" rows="3"></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn primary">Registrar Saída</button>
                        <button type="button" class="btn secondary modal-cancel">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Funcionário -->
    <div id="modal-funcionario" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-funcionario-titulo">Novo Funcionário</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form method="POST" action="{% url 'funcionario_save' %}" id="form-funcionario">
                    {% csrf_token %}
                    <input type="hidden" name="funcionario_id" id="funcionario-id">
                    <div class="form-group">
                        <label for="funcionario-nome">Nome:</label>
                        <input type="text" name="nome" id="funcionario-nome" required>
                    </div>
                    <div class="form-group">
                        <label for="funcionario-cpf">CPF:</label>
                        <input type="text" name="cpf" id="funcionario-cpf" required>
                    </div>
                    <div class="form-group">
                        <label for="funcionario-email">Email:</label>
                        <input type="email" name="email" id="funcionario-email" required>
                    </div>
                    <div class="form-group">
                        <label for="funcionario-telefone">Telefone:</label>
                        <input type="text" name="telefone" id="funcionario-telefone" required>
                    </div>
                    <div class="form-group">
                        <label for="funcionario-cargo">Cargo:</label>
                        <input type="text" name="cargo" id="funcionario-cargo" required>
                    </div>
                    <div class="form-group">
                        <label for="funcionario-setor">Setor:</label>
                        <select name="setor" id="funcionario-setor" required>
                            <option value="">Selecione o setor</option>
                            {% for setor in setores %}
                            <option value="{{ setor.id }}">{{ setor.nome }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="funcionario-data-admissao">Data de Admissão:</label>
                        <input type="date" name="data_admissao" id="funcionario-data-admissao" required>
                    </div>
                    <div class="form-group">
                        <label for="funcionario-horario">Horário de Trabalho:</label>
                        <select name="horario" id="funcionario-horario" required>
                            <option value="">Selecione o horário</option>
                            {% for horario in horarios %}
                            <option value="{{ horario.id }}">{{ horario.nome }} ({{ horario.entrada|date:"H:i" }} - {{ horario.saida|date:"H:i" }})</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="funcionario-ativo">Status:</label>
                        <select name="ativo" id="funcionario-ativo">
                            <option value="true">Ativo</option>
                            <option value="false">Inativo</option>
                        </select>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn primary">Salvar</button>
                        <button type="button" class="btn secondary modal-cancel">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Setor -->
    <div id="modal-setor" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-setor-titulo">Novo Setor</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form method="POST" action="{% url 'setor_save' %}" id="form-setor">
                    {% csrf_token %}
                    <input type="hidden" name="setor_id" id="setor-id">
                    <div class="form-group">
                        <label for="setor-nome">Nome:</label>
                        <input type="text" name="nome" id="setor-nome" required>
                    </div>
                    <div class="form-group">
                        <label for="setor-descricao">Descrição:</label>
                        <textarea name="descricao" id="setor-descricao" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="setor-responsavel">Responsável:</label>
                        <input type="text" name="responsavel" id="setor-responsavel">
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn primary">Salvar</button>
                        <button type="button" class="btn secondary modal-cancel">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Horário -->
    <div id="modal-horario" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-horario-titulo">Novo Horário</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form method="POST" action="{% url 'horario_save' %}" id="form-horario">
                    {% csrf_token %}
                    <input type="hidden" name="horario_id" id="horario-id">
                    <div class="form-group">
                        <label for="horario-nome">Nome:</label>
                        <input type="text" name="nome" id="horario-nome" required placeholder="Ex: Horário Comercial">
                    </div>
                    <div class="form-group">
                        <label for="horario-entrada">Horário de Entrada:</label>
                        <input type="time" name="entrada" id="horario-entrada" required>
                    </div>
                    <div class="form-group">
                        <label for="horario-saida">Horário de Saída:</label>
                        <input type="time" name="saida" id="horario-saida" required>
                    </div>
                    <div class="form-group">
                        <label for="horario-intervalo-inicio">Início do Intervalo:</label>
                        <input type="time" name="intervalo_inicio" id="horario-intervalo-inicio">
                    </div>
                    <div class="form-group">
                        <label for="horario-intervalo-fim">Fim do Intervalo:</label>
                        <input type="time" name="intervalo_fim" id="horario-intervalo-fim">
                    </div>
                    <div class="form-group">
                        <label for="horario-carga-horaria">Carga Horária Diária (horas):</label>
                        <input type="number" name="carga_horaria_diaria" id="horario-carga-horaria" step="0.5" min="1" max="12" required>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn primary">Salvar</button>
                        <button type="button" class="btn secondary modal-cancel">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Presença -->
    <div id="modal-presenca" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-presenca-titulo">Nova Presença</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form method="POST" action="{% url 'presenca_save' %}" id="form-presenca">
                    {% csrf_token %}
                    <input type="hidden" name="presenca_id" id="presenca-id">
                    <div class="form-group">
                        <label for="presenca-funcionario">Funcionário:</label>
                        <select name="funcionario" id="presenca-funcionario" required>
                            <option value="">Selecione o funcionário</option>
                            {% for funcionario in funcionarios_ativos %}
                            <option value="{{ funcionario.id }}">{{ funcionario.nome }} - {{ funcionario.setor.nome }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="presenca-data">Data:</label>
                        <input type="date" name="data" id="presenca-data" required>
                    </div>
                    <div class="form-group">
                        <label for="presenca-entrada">Horário de Entrada:</label>
                        <input type="time" name="entrada" id="presenca-entrada" required>
                    </div>
                    <div class="form-group">
                        <label for="presenca-saida">Horário de Saída:</label>
                        <input type="time" name="saida" id="presenca-saida">
                    </div>
                    <div class="form-group">
                        <label for="presenca-observacao">Observação:</label>
                        <textarea name="observacao" id="presenca-observacao" rows="3"></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn primary">Salvar</button>
                        <button type="button" class="btn secondary modal-cancel">Cancelar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Messages do Django -->
    {% if messages %}
    <div class="messages-container">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">
            {{ message }}
            <button type="button" class="alert-close">&times;</button>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <script src="{% static 'js/dashboard.js' %}"></script>
    <script>
        // Configuração da data atual
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            document.getElementById('today-date').textContent = today.toLocaleDateString('pt-BR', options);
        });

        // Função para confirmar exclusão
        function confirmarExclusaoFuncionario(id, nome) {
            document.getElementById('item-nome-exclusao').textContent = nome;
            document.getElementById('btn-confirmar-exclusao').onclick = function() {
                window.location.href = "{% url 'funcionario_delete' 0 %}".replace('0', id);
            };
            document.getElementById('modal-confirmar-exclusao').style.display = 'block';
        }

        function confirmarExclusaoSetor(id, nome) {
            document.getElementById('item-nome-exclusao').textContent = nome;
            document.getElementById('btn-confirmar-exclusao').onclick = function() {
                window.location.href = "{% url 'setor_delete' 0 %}".replace('0', id);
            };
            document.getElementById('modal-confirmar-exclusao').style.display = 'block';
        }

        function confirmarExclusaoHorario(id, nome) {
            document.getElementById('item-nome-exclusao').textContent = nome;
            document.getElementById('btn-confirmar-exclusao').onclick = function() {
                window.location.href = "{% url 'horario_delete' 0 %}".replace('0', id);
            };
            document.getElementById('modal-confirmar-exclusao').style.display = 'block';
        }

        function confirmarExclusaoPresenca(id) {
            document.getElementById('item-nome-exclusao').textContent = 'esta presença';
            document.getElementById('btn-confirmar-exclusao').onclick = function() {
                window.location.href = "{% url 'presenca_delete' 0 %}".replace('0', id);
            };
            document.getElementById('modal-confirmar-exclusao').style.display = 'block';
        }

        function fecharModalConfirmacao() {
            document.getElementById('modal-confirmar-exclusao').style.display = 'none';
        }

        // Funções para editar itens
        function editarFuncionario(id) {
            // Implementar busca AJAX para carregar dados do funcionário
            fetch(`{% url 'funcionario_get' 0 %}`.replace('0', id))
                .then(response => response.json())
                .then(data => {
                    document.getElementById('funcionario-id').value = data.id;
                    document.getElementById('funcionario-nome').value = data.nome;
                    document.getElementById('funcionario-cpf').value = data.cpf;
                    document.getElementById('funcionario-email').value = data.email;
                    document.getElementById('funcionario-telefone').value = data.telefone;
                    document.getElementById('funcionario-cargo').value = data.cargo;
                    document.getElementById('funcionario-setor').value = data.setor_id;
                    document.getElementById('funcionario-data-admissao').value = data.data_admissao;
                    document.getElementById('funcionario-horario').value = data.horario_id;
                    document.getElementById('funcionario-ativo').value = data.ativo;
                    document.getElementById('modal-funcionario-titulo').textContent = 'Editar Funcionário';
                    document.getElementById('modal-funcionario').style.display = 'block';
                });
        }

        function editarSetor(id) {
            fetch(`{% url 'setor_get' 0 %}`.replace('0', id))
                .then(response => response.json())
                .then(data => {
                    document.getElementById('setor-id').value = data.id;
                    document.getElementById('setor-nome').value = data.nome;
                    document.getElementById('setor-descricao').value = data.descricao;
                    document.getElementById('setor-responsavel').value = data.responsavel;
                    document.getElementById('modal-setor-titulo').textContent = 'Editar Setor';
                    document.getElementById('modal-setor').style.display = 'block';
                });
        }

        function editarHorario(id) {
            fetch(`{% url 'horario_get' 0 %}`.replace('0', id))
                .then(response => response.json())
                .then(data => {
                    document.getElementById('horario-id').value = data.id;
                    document.getElementById('horario-nome').value = data.nome;
                    document.getElementById('horario-entrada').value = data.entrada;
                    document.getElementById('horario-saida').value = data.saida;
                    document.getElementById('horario-intervalo-inicio').value = data.intervalo_inicio;
                    document.getElementById('horario-intervalo-fim').value = data.intervalo_fim;
                    document.getElementById('horario-carga-horaria').value = data.carga_horaria_diaria;
                    document.getElementById('modal-horario-titulo').textContent = 'Editar Horário';
                    document.getElementById('modal-horario').style.display = 'block';
                });
        }

        function editarPresenca(id) {
            fetch(`{% url 'presenca_get' 0 %}`.replace('0', id))
                .then(response => response.json())
                .then(data => {
                    document.getElementById('presenca-id').value = data.id;
                    document.getElementById('presenca-funcionario').value = data.funcionario_id;
                    document.getElementById('presenca-data').value = data.data;
                    document.getElementById('presenca-entrada').value = data.entrada;
                    document.getElementById('presenca-saida').value = data.saida;
                    document.getElementById('presenca-observacao').value = data.observacao;
                    document.getElementById('modal-presenca-titulo').textContent = 'Editar Presença';
                    document.getElementById('modal-presenca').style.display = 'block';
                });
        }
    </script>

</body>
</html>