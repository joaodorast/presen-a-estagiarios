<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, in1itial-scale=1.0">
    <title>SEICE | Sistema de Presença e Carga de Estagiários - Pedagogia</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4a5568;
            --primary-light: #000000;
            --primary-dark: #010711;
            --accent-color: #ebce2c;
            --accent-light: #faf089;
            --accent-dark: #d69e2e;
            --secondary-color: #e2e8f0;
            --danger-color: #cc2626;
            --success-color: #1f8a51;
            --warning-color: #dfa737;
            --info-color: #3182ce;
            --white: #ffffff;
            --gray-50: #f9fafb;
            --gray-100: #f7fafc;
            --gray-200: #edf2f7;
            --gray-300: #e2e8f0;
            --gray-400: #cbd5e0;
            --gray-500: #a0aec0;
            --gray-600: #718096;
            --gray-700: #141313;
            --gray-800: #302c2c;
            --gray-900: #06080a;
            --text-color: var(--gray-800);
            --text-light: var(--gray-600);
            --bg-color: var(--gray-50);
            --card-bg: var(--white);
            --border-color: var(--gray-300);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .sidebar {
            width: 280px;
            height: 100vh;
            background: linear-gradient(135deg, var(--gray-800) 0%, var(--gray-900) 100%);
            position: fixed;
            left: 0;
            top: 0;
            z-index: 1000;
            transition: all 0.3s ease;
            box-shadow: var(--shadow-lg);
        }

        .logo {
            padding: 25px 20px;
            text-align: center;
            border-bottom: 1px solid rgba(246, 224, 94, 0.2);
        }

        .logo i {
            font-size: 32px;
            color: var(--accent-color);
            margin-bottom: 10px;
        }

        .logo h2 {
            color: var(--white);
            font-weight: 600;
            font-size: 24px;
        }

        nav ul {
            list-style: none;
            padding: 20px 0;
        }

        nav li {
            margin: 5px 15px;
            cursor: pointer;
            border-radius: 12px;
            transition: all 0.3s ease;
        }

        nav li:hover {
            background-color: rgba(246, 224, 94, 0.1);
            transform: translateX(5px);
        }

        nav li.active {
            background-color: var(--accent-color);
            box-shadow: 0 4px 12px rgba(246, 224, 94, 0.3);
        }

        nav li a,
        nav li span {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 15px 20px;
            color: var(--white);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        nav li.active a,
        nav li.active span {
            color: var(--gray-800);
        }

        nav li i {
            width: 20px;
            font-size: 18px;
        }

        .sidebar-footer {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            text-align: center;
            color: var(--gray-500);
            font-size: 12px;
        }

        .main-content {
            margin-left: 280px;
            min-height: 100vh;
            background-color: var(--bg-color);
        }

        header {
            background: var(--white);
            padding: 20px 30px;
            box-shadow: var(--shadow);
            border-bottom: 3px solid var(--accent-color);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-title h1 {
            color: var(--gray-800);
            font-size: 28px;
            font-weight: 600;
        }

        .current-date {
            background: var(--accent-color);
            padding: 10px 20px;
            border-radius: 25px;
            color: var(--gray-800);
            font-weight: 600;
        }

        .content-area {
            padding: 30px;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .dashboard-header h2 {
            color: var(--gray-800);
            font-size: 32px;
            font-weight: 600;
        }

        .quick-actions {
            display: flex;
            gap: 15px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .btn.primary {
            background-color: var(--gray-700);
            color: var(--white);
        }

        .btn.primary:hover {
            background-color: var(--gray-800);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(74, 85, 104, 0.3);
        }

        .btn.secondary {
            background-color: var(--accent-color);
            color: var(--gray-800);
        }

        .btn.secondary:hover {
            background-color: var(--accent-dark);
            transform: translateY(-2px);
        }

        .btn.success {
            background-color: var(--success-color);
            color: var(--white);
        }

        .btn.warning {
            background-color: var(--warning-color);
            color: var(--white);
        }

        .btn.danger {
            background-color: var(--danger-color);
            color: var(--white);
        }

        .dashboard-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--white);
            padding: 25px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 20px;
            transition: all 0.3s ease;
            border-left: 4px solid var(--accent-color);
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--white);
        }

        .stat-icon.blue { background-color: var(--info-color); }
        .stat-icon.green { background-color: var(--success-color); }
        .stat-icon.orange { background-color: var(--warning-color); }
        .stat-icon.purple { background-color: var(--primary-color); }
        .stat-icon.gray { background-color: var(--gray-600); }

        .stat-info h3 {
            color: var(--gray-700);
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 5px;
        }

        .stat-info p {
            color: var(--gray-800);
            font-size: 28px;
            font-weight: 700;
        }

        .dashboard-tables {
            background: var(--white);
            border-radius: 12px;
            box-shadow: var(--shadow);
            overflow: hidden;
        }

        .dashboard-tables h3 {
            padding: 20px 25px;
            background: var(--gray-100);
            color: var(--gray-800);
            font-size: 18px;
            font-weight: 600;
            border-bottom: 1px solid var(--border-color);
        }

        .table-container {
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        th {
            background-color: var(--gray-100);
            font-weight: 600;
            color: var(--gray-800);
            font-size: 14px;
        }

        td {
            color: var(--text-color);
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-presente {
            background-color: var(--success-color);
            color: var(--white);
        }

        .status-ausente {
            background-color: var(--danger-color);
            color: var(--white);
        }

        .status-online {
            background-color: var(--accent-color);
            color: var(--gray-800);
        }

        .status-offline {
            background-color: var(--gray-500);
            color: var(--white);
        }

        .location-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 4px;
        }

        .location-office {
            background-color: rgba(56, 161, 105, 0.1);
            color: var(--success-color);
            border: 1px solid rgba(56, 161, 105, 0.3);
        }

        .location-home {
            background-color: rgba(246, 224, 94, 0.2);
            color: var(--accent-dark);
            border: 1px solid rgba(246, 224, 94, 0.5);
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }

        .modal-content {
            background-color: var(--white);
            margin: 5% auto;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            max-width: 500px;
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            padding: 20px 25px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--gray-100);
            border-radius: 12px 12px 0 0;
        }

        .modal-header h3 {
            color: var(--gray-800);
            font-size: 18px;
            font-weight: 600;
        }

        .area-name{
            color: var(--gray-100);
            font-size: 15px;
            margin-top: 2px;
            font-weight: 400;
        }

        .close {
            color: var(--gray-500);
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: var(--gray-800);
        }

        .modal-body {
            padding: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--gray-700);
            font-weight: 500;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
            background-color: var(--white);
            color: var(--text-color);
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .modal-footer {
            padding: 20px 25px;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            background: var(--gray-50);
            border-radius: 0 0 12px 12px;
        }

        .filters-container {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            align-items: end;
            background: var(--white);
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow);
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            min-width: 150px;
        }

        .filter-group label {
            font-weight: 500;
            color: var(--gray-700);
            margin-bottom: 5px;
            font-size: 14px;
        }

        .progress-bar {
            background-color: var(--gray-200);
            border-radius: 10px;
            overflow: hidden;
            height: 8px;
            margin-top: 5px;
        }

        .progress-fill {
            background: linear-gradient(90deg, var(--accent-color), var(--accent-light));
            height: 100%;
            transition: width 0.3s ease;
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .dashboard-stats {
                grid-template-columns: 1fr;
            }

            .filters-container {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <i class="fas fa-user-graduate"></i>
            <h2>SEICE</h2>
            <p class="area-name">Pedagogia</p>
        </div>
        <nav>
            <ul>
                <li class="active" data-page="dashboard">
                    <span><i class="fas fa-home"></i>Dashboard</span>
                </li>
                <li data-page="presencas">
                    <span><i class="fas fa-clipboard-check"></i>Controle de Presença</span>
                </li>
                <li data-page="estagiarios">
                    <span><i class="fas fa-users"></i>Estagiários</span>
                </li>
                <li data-page="jornadas">
                    <span><i class="fas fa-calendar-alt"></i>Jornadas</span>
                </li>
                <li data-page="carga-horaria">
                    <span><i class="fas fa-chart-line"></i>Carga Horária</span>
                </li>
                <li data-page="relatorios">
                    <span><i class="fas fa-file-alt"></i>Relatórios</span>
                </li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            <p>Sistema de Presença e Carga</p>
            <p>v1.0.0</p>
        </div>
    </div>

    <div class="main-content">
        <header>
            <div class="header-content">
                <div class="header-title">
                    <h1>Sistema de Presença e Carga de Estagiários</h1>
                </div>
                <div class="current-date">
                    <span id="today-date"></span>
                </div>
            </div>
        </header>

        <div class="content-area">
            <!-- Dashboard -->
            <div id="dashboard" class="page active">
                <div class="dashboard-header">
                    <h2>Dashboard</h2>
                    <div class="quick-actions">
                        <button id="btn-registrar-entrada" class="btn primary">
                            <i class="fas fa-sign-in-alt"></i> Check-in
                        </button>
                        <button id="btn-registrar-saida" class="btn secondary">
                            <i class="fas fa-sign-out-alt"></i> Check-out
                        </button>
                    </div>
                </div>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Total de Estagiários</h3>
                            <p>24</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon green">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Presentes Hoje</h3>
                            <p>18</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon orange">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Online</h3>
                            <p>12</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon gray">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Remoto</h3>
                            <p>6</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Horas Hoje</h3>
                            <p>132h</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-tables">
                    <h3>Status Atual dos Estagiários</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Estagiário</th>
                                    <th>Entrada</th>
                                    <th>Saída Prevista</th>
                                    <th>Status</th>
                                    <th>Localização</th>
                                    <th>Jornada</th>
                                    <th>Progresso</th>
                                </tr>
                            </thead>
                            <tbody id="presencas-hoje-tabela">
                                <tr>
                                    <td>João Silva</td>
                                    <td>08:00</td>
                                    <td>17:00</td>
                                    <td><span class="status-badge status-presente">Presente</span></td>
                                    <td><span class="location-badge location-office"><i class="fas fa-building"></i> Escritório</span></td>
                                    <td>8h/dia</td>
                                    <td>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 65%"></div>
                                        </div>
                                        5h 12min
                                    </td>
                                </tr>
                                <tr>
                                    <td>Maria Santos</td>
                                    <td>09:00</td>
                                    <td>18:00</td>
                                    <td><span class="status-badge status-presente">Presente</span></td>
                                    <td><span class="location-badge location-home"><i class="fas fa-home"></i> Remoto</span></td>
                                    <td>8h/dia</td>
                                    <td>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 45%"></div>
                                        </div>
                                        3h 36min
                                    </td>
                                </tr>
                                <tr>
                                    <td>Pedro Costa</td>
                                    <td>08:30</td>
                                    <td>17:30</td>
                                    <td><span class="status-badge status-presente">Presente</span></td>
                                    <td><span class="location-badge location-office"><i class="fas fa-building"></i> Escritório</span></td>
                                    <td>6h/dia</td>
                                    <td>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 80%"></div>
                                        </div>
                                        4h 48min
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Controle de Presenças -->
            <div id="presencas" class="page">
                <div class="dashboard-header">
                    <h2>Controle de Presenças</h2>
                    <button class="btn primary">
                        <i class="fas fa-plus"></i> Nova Presença
                    </button>
                </div>

                <div class="filters-container">
                    <div class="filter-group">
                        <label for="filtro-estagiario">Estagiário:</label>
                        <select id="filtro-estagiario">
                            <option value="">Todos</option>
                            <option value="1">João Silva</option>
                            <option value="2">Maria Santos</option>
                            <option value="3">Pedro Costa</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="filtro-data-inicio">Data Início:</label>
                        <input type="date" id="filtro-data-inicio">
                    </div>
                    <div class="filter-group">
                        <label for="filtro-data-fim">Data Fim:</label>
                        <input type="date" id="filtro-data-fim">
                    </div>
                    <div class="filter-group">
                        <label for="filtro-localizacao">Localização:</label>
                        <select id="filtro-localizacao">
                            <option value="">Todas</option>
                            <option value="office">Escritório</option>
                            <option value="home">Remoto</option>
                        </select>
                    </div>
                    <button class="btn secondary">
                        <i class="fas fa-filter"></i> Filtrar
                    </button>
                </div>

                <div class="dashboard-tables">
                    <h3>Histórico de Presenças</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Estagiário</th>
                                    <th>Entrada</th>
                                    <th>Saída</th>
                                    <th>Horas</th>
                                    <th>Localização</th>
                                    <th>Status</th>
                                    <th>Jornada</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>21/08/2025</td>
                                    <td>João Silva</td>
                                    <td>08:00</td>
                                    <td>-</td>
                                    <td>5h 12min</td>
                                    <td><span class="location-badge location-office"><i class="fas fa-building"></i> Escritório</span></td>
                                    <td><span class="status-badge status-online">Online</span></td>
                                    <td>8h/dia</td>
                                </tr>
                                <tr>
                                    <td>21/08/2025</td>
                                    <td>Maria Santos</td>
                                    <td>09:00</td>
                                    <td>-</td>
                                    <td>3h 36min</td>
                                    <td><span class="location-badge location-home"><i class="fas fa-home"></i> Remoto</span></td>
                                    <td><span class="status-badge status-online">Online</span></td>
                                    <td>8h/dia</td>
                                </tr>
                                <tr>
                                    <td>20/08/2025</td>
                                    <td>Pedro Costa</td>
                                    <td>08:30</td>
                                    <td>15:30</td>
                                    <td>6h 00min</td>
                                    <td><span class="location-badge location-office"><i class="fas fa-building"></i> Escritório</span></td>
                                    <td><span class="status-badge status-ausente">Finalizado</span></td>
                                    <td>6h/dia</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Jornadas -->
            <div id="jornadas" class="page">
                <div class="dashboard-header">
                    <h2>Jornadas de Estágio</h2>
                    <button class="btn primary">
                        <i class="fas fa-plus"></i> Nova Jornada
                    </button>
                </div>

                <div class="dashboard-tables">
                    <h3>Configurações de Jornada</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Estagiário</th>
                                    <th>Tipo de Jornada</th>
                                    <th>Horas/Dia</th>
                                    <th>Dias/Semana</th>
                                    <th>Horário Padrão</th>
                                    <th>Modalidade</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>João Silva</td>
                                    <td>Período Integral</td>
                                    <td>8h</td>
                                    <td>5 dias</td>
                                    <td>08:00 - 17:00</td>
                                    <td>Presencial</td>
                                    <td><span class="status-badge status-presente">Ativo</span></td>
                                </tr>
                                <tr>
                                    <td>Maria Santos</td>
                                    <td>Período Integral</td>
                                    <td>8h</td>
                                    <td>5 dias</td>
                                    <td>09:00 - 18:00</td>
                                    <td>Híbrido</td>
                                    <td><span class="status-badge status-presente">Ativo</span></td>
                                </tr>
                                <tr>
                                    <td>Pedro Costa</td>
                                    <td>Meio Período</td>
                                    <td>6h</td>
                                    <td>5 dias</td>
                                    <td>08:30 - 15:30</td>
                                    <td>Presencial</td>
                                    <td><span class="status-badge status-presente">Ativo</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Carga Horária -->
            <div id="carga-horaria" class="page">
                <div class="dashboard-header">
                    <h2>Carga Horária</h2>
                    <div class="quick-actions">
                        <button class="btn primary">
                            <i class="fas fa-calculator"></i> Calcular Horas
                        </button>
                        <button class="btn secondary">
                            <i class="fas fa-download"></i> Exportar
                        </button>
                    </div>
                </div>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <i class="fas fa-calendar-week"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Horas desta Semana</h3>
                            <p>342h</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon green">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Horas deste Mês</h3>
                            <p>1.248h</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon orange">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Média por Estagiário</h3>
                            <p>6.2h</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Meta Mensal</h3>
                            <p>83%</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-tables">
                    <h3>Resumo de Carga Horária por Estagiário</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Estagiário</th>
                                    <th>Jornada</th>
                                    <th>Horas Hoje</th>
                                    <th>Horas Semana</th>
                                    <th>Horas Mês</th>
                                    <th>Meta Mensal</th>
                                    <th>Progresso</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>João Silva</td>
                                    <td>8h/dia</td>
                                    <td>5h 12min</td>
                                    <td>38h 45min</td>
                                    <td>156h 30min</td>
                                    <td>176h</td>
                                    <td>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 89%"></div>
                                        </div>
                                        89%
                                    </td>
                                    <td><span class="status-badge status-presente">No Prazo</span></td>
                                </tr>
                                <tr>
                                    <td>Maria Santos</td>
                                    <td>8h/dia</td>
                                    <td>3h 36min</td>
                                    <td>42h 15min</td>
                                    <td>168h 45min</td>
                                    <td>176h</td>
                                    <td>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 96%"></div>
                                        </div>
                                        96%
                                    </td>
                                    <td><span class="status-badge status-presente">No Prazo</span></td>
                                </tr>
                                <tr>
                                    <td>Pedro Costa</td>
                                    <td>6h/dia</td>
                                    <td>4h 48min</td>
                                    <td>28h 30min</td>
                                    <td>118h 15min</td>
                                    <td>132h</td>
                                    <td>
                                        <div class="progress-bar">
                                            <div class="progress-fill" style="width: 90%"></div>
                                        </div>
                                        90%
                                    </td>
                                    <td><span class="status-badge status-presente">No Prazo</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Estagiários -->
            <div id="estagiarios" class="page">
                <div class="dashboard-header">
                    <h2>Gerenciar Estagiários</h2>
                    <button class="btn primary">
                        <i class="fas fa-plus"></i> Novo Estagiário
                    </button>
                </div>

                <div class="dashboard-tables">
                    <h3>Lista de Estagiários</h3>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Email</th>
                                    <th>Área</th>
                                    <th>Jornada</th>
                                    <th>Modalidade</th>
                                    <th>Início</th>
                                    <th>Status Atual</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>João Silva</td>
                                    <td>joao@email.com</td>
                                    <td>Desenvolvimento</td>
                                    <td>8h/dia</td>
                                    <td>Presencial</td>
                                    <td>15/01/2025</td>
                                    <td><span class="status-badge status-online">Online</span></td>
                                    <td>
                                        <button class="btn secondary" style="padding: 8px 12px; font-size: 12px;">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Maria Santos</td>
                                    <td>maria@email.com</td>
                                    <td>Design</td>
                                    <td>8h/dia</td>
                                    <td>Híbrido</td>
                                    <td>22/01/2025</td>
                                    <td><span class="status-badge status-online">Online</span></td>
                                    <td>
                                        <button class="btn secondary" style="padding: 8px 12px; font-size: 12px;">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Pedro Costa</td>
                                    <td>pedro@email.com</td>
                                    <td>Marketing</td>
                                    <td>6h/dia</td>
                                    <td>Presencial</td>
                                    <td>05/02/2025</td>
                                    <td><span class="status-badge status-offline">Offline</span></td>
                                    <td>
                                        <button class="btn secondary" style="padding: 8px 12px; font-size: 12px;">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Relatórios -->
            <div id="relatorios" class="page">
                <div class="dashboard-header">
                    <h2>Relatórios</h2>
                    <div class="quick-actions">
                        <button class="btn primary">
                            <i class="fas fa-file-pdf"></i> Gerar PDF
                        </button>
                        <button class="btn secondary">
                            <i class="fas fa-file-excel"></i> Exportar Excel
                        </button>
                    </div>
                </div>

                <div class="filters-container">
                    <div class="filter-group">
                        <label for="relatorio-periodo">Período:</label>
                        <select id="relatorio-periodo">
                            <option value="hoje">Hoje</option>
                            <option value="semana">Esta Semana</option>
                            <option value="mes">Este Mês</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="relatorio-tipo">Tipo de Relatório:</label>
                        <select id="relatorio-tipo">
                            <option value="presenca">Presenças</option>
                            <option value="carga">Carga Horária</option>
                            <option value="produtividade">Produtividade</option>
                            <option value="geral">Relatório Geral</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label for="relatorio-modalidade">Modalidade:</label>
                        <select id="relatorio-modalidade">
                            <option value="">Todas</option>
                            <option value="presencial">Presencial</option>
                            <option value="remoto">Remoto</option>
                            <option value="hibrido">Híbrido</option>
                        </select>
                    </div>
                    <button class="btn secondary">
                        <i class="fas fa-chart-bar"></i> Gerar
                    </button>
                </div>

                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon blue">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Taxa de Presença</h3>
                            <p>94.2%</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon green">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Horas Acumuladas</h3>
                            <p>2.847h</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon orange">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="stat-info">
                            <h3>% Presencial</h3>
                            <p>67%</p>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon purple">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="stat-info">
                            <h3>% Remoto</h3>
                            <p>33%</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Check-in -->
    <div id="modal-checkin" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-sign-in-alt"></i> Check-in</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="checkin-estagiario">Estagiário:</label>
                    <select id="checkin-estagiario" required>
                        <option value="">Selecione o estagiário</option>
                        <option value="1">João Silva</option>
                        <option value="2">Maria Santos</option>
                        <option value="3">Pedro Costa</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="checkin-localizacao">Localização:</label>
                    <select id="checkin-localizacao" required>
                        <option value="">Selecione a localização</option>
                        <option value="office">Escritório</option>
                        <option value="home">Remoto (Casa)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="checkin-observacao">Observação:</label>
                    <textarea id="checkin-observacao" rows="3" placeholder="Observações opcionais..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn primary">
                    <i class="fas fa-check"></i> Registrar Check-in
                </button>
                <button class="btn secondary modal-cancel">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal Check-out -->
    <div id="modal-checkout" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-sign-out-alt"></i> Check-out</h3>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="checkout-estagiario">Estagiário:</label>
                    <select id="checkout-estagiario" required>
                        <option value="">Selecione o estagiário</option>
                        <option value="1">João Silva - 5h 12min trabalhadas</option>
                        <option value="2">Maria Santos - 3h 36min trabalhadas</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="checkout-observacao">Resumo do Dia:</label>
                    <textarea id="checkout-observacao" rows="4" placeholder="Descreva as principais atividades realizadas hoje..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn primary">
                    <i class="fas fa-check"></i> Registrar Check-out
                </button>
                <button class="btn secondary modal-cancel">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Biblioteca jsPDF para geração de PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <!-- Biblioteca SheetJS para exportar Excel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <script>
        // ==================== mock data pra teste  ====================
        const dadosEstagiarios = [
            {
                id: 1,
                nome: 'João Silva',
                email: 'joao@email.com',
                area: 'Desenvolvimento',
                jornada: '8h/dia',
                modalidade: 'Presencial',
                inicio: '15/01/2025',
                status: 'online',
                entrada: '08:00',
                saidaPrevista: '17:00',
                horasHoje: '5h 12min',
                horasSemana: '38h 45min',
                horasMes: '156h 30min',
                metaMensal: '176h',
                progresso: 89,
                localizacao: 'office'
            },
            {
                id: 2,
                nome: 'Maria Santos',
                email: 'maria@email.com',
                area: 'Design',
                jornada: '8h/dia',
                modalidade: 'Híbrido',
                inicio: '22/01/2025',
                status: 'online',
                entrada: '09:00',
                saidaPrevista: '18:00',
                horasHoje: '3h 36min',
                horasSemana: '42h 15min',
                horasMes: '168h 45min',
                metaMensal: '176h',
                progresso: 96,
                localizacao: 'home'
            },
            {
                id: 3,
                nome: 'Pedro Costa',
                email: 'pedro@email.com',
                area: 'Marketing',
                jornada: '6h/dia',
                modalidade: 'Presencial',
                inicio: '05/02/2025',
                status: 'offline',
                entrada: '08:30',
                saidaPrevista: '15:30',
                horasHoje: '4h 48min',
                horasSemana: '28h 30min',
                horasMes: '118h 15min',
                metaMensal: '132h',
                progresso: 90,
                localizacao: 'office'
            },
            {
                id: 4,
                nome: 'Ana Oliveira',
                email: 'ana@email.com',
                area: 'RH',
                jornada: '8h/dia',
                modalidade: 'Híbrido',
                inicio: '10/02/2025',
                status: 'online',
                entrada: '09:30',
                saidaPrevista: '18:30',
                horasHoje: '2h 15min',
                horasSemana: '35h 20min',
                horasMes: '142h 10min',
                metaMensal: '176h',
                progresso: 81,
                localizacao: 'home'
            },
            {
                id: 5,
                nome: 'Carlos Ferreira',
                email: 'carlos@email.com',
                area: 'Vendas',
                jornada: '7h/dia',
                modalidade: 'Presencial',
                inicio: '01/02/2025',
                status: 'online',
                entrada: '08:00',
                saidaPrevista: '16:00',
                horasHoje: '6h 30min',
                horasSemana: '32h 15min',
                horasMes: '135h 45min',
                metaMensal: '154h',
                progresso: 88,
                localizacao: 'office'
            }
        ];

        const historicoPresencas = [
            {
                data: '21/08/2025',
                estagiario: 'João Silva',
                entrada: '08:00',
                saida: '-',
                horas: '5h 12min',
                localizacao: 'office',
                status: 'online',
                jornada: '8h/dia'
            },
            {
                data: '21/08/2025',
                estagiario: 'Maria Santos',
                entrada: '09:00',
                saida: '-',
                horas: '3h 36min',
                localizacao: 'home',
                status: 'online',
                jornada: '8h/dia'
            },
            {
                data: '20/08/2025',
                estagiario: 'Pedro Costa',
                entrada: '08:30',
                saida: '15:30',
                horas: '6h 00min',
                localizacao: 'office',
                status: 'finalizado',
                jornada: '6h/dia'
            },
            {
                data: '20/08/2025',
                estagiario: 'Ana Oliveira',
                entrada: '09:30',
                saida: '18:30',
                horas: '8h 00min',
                localizacao: 'home',
                status: 'finalizado',
                jornada: '8h/dia'
            },
            {
                data: '19/08/2025',
                estagiario: 'Carlos Ferreira',
                entrada: '08:00',
                saida: '16:00',
                horas: '7h 00min',
                localizacao: 'office',
                status: 'finalizado',
                jornada: '7h/dia'
            }
        ];

      
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
        
            document.getElementById('today-date').textContent = 
                new Date().toLocaleDateString('pt-BR', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });

            
            initializeNavigation();
            
           
            initializeModals();
            
            
            initializeExportFunctions();
            initializeFilters();
            initializeRealTimeUpdates();
            
           
            updateDashboardStats();
        }

       
        function initializeNavigation() {
            document.querySelectorAll('[data-page]').forEach(item => {
                item.addEventListener('click', function() {
                    const page = this.getAttribute('data-page');
                    
                    
                    document.querySelectorAll('[data-page]').forEach(i => i.classList.remove('active'));
                   
                    this.classList.add('active');
                    
                    
                    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                    
                    document.getElementById(page).classList.add('active');
                });
            });
        }
    
        
        function initializeModals() {
            const modals = {
                checkin: document.getElementById('modal-checkin'),
                checkout: document.getElementById('modal-checkout')
            };

            
            document.getElementById('btn-registrar-entrada').addEventListener('click', () => {
                modals.checkin.style.display = 'block';
            });

            document.getElementById('btn-registrar-saida').addEventListener('click', () => {
                modals.checkout.style.display = 'block';
            });

            
            document.querySelectorAll('.close, .modal-cancel').forEach(element => {
                element.addEventListener('click', function() {
                    this.closest('.modal').style.display = 'none';
                });
            });


            window.addEventListener('click', function(event) {
                Object.values(modals).forEach(modal => {
                    if (event.target === modal) {
                        modal.style.display = 'none';
                    }
                });
            });
        }

        // ==================== exportação pdf ====================
        function gerarPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            
            doc.setFont("helvetica", "bold");
            doc.setFontSize(20);
            
            
            doc.text('Relatório de Presença - SEICE', 20, 20);
            
            
            doc.setFontSize(12);
            doc.setFont("helvetica", "normal");
            doc.text(`Gerado em: ${new Date().toLocaleDateString('pt-BR')}`, 20, 30);
            
           
            doc.setFont("helvetica", "bold");
            doc.setFontSize(14);
            doc.text('Estatísticas Gerais', 20, 45);
            
            doc.setFont("helvetica", "normal");
            doc.setFontSize(10);
            doc.text(`Total de Estagiários: ${dadosEstagiarios.length}`, 20, 55);
            doc.text(`Presentes Hoje: ${dadosEstagiarios.filter(e => e.status === 'online').length}`, 20, 62);
            doc.text(`Online: ${dadosEstagiarios.filter(e => e.status === 'online').length}`, 20, 69);
            doc.text(`Modalidade Presencial: ${dadosEstagiarios.filter(e => e.modalidade === 'Presencial').length}`, 20, 76);
            doc.text(`Modalidade Remota/Híbrida: ${dadosEstagiarios.filter(e => e.modalidade !== 'Presencial').length}`, 20, 83);
            
           
            doc.setFont("helvetica", "bold");
            doc.setFontSize(14);
            doc.text('Detalhamento por Estagiário', 20, 100);
            
            let yPosition = 115;
            
           
            doc.setFont("helvetica", "bold");
            doc.setFontSize(8);
            doc.text('Nome', 20, yPosition);
            doc.text('Área', 60, yPosition);
            doc.text('Jornada', 90, yPosition);
            doc.text('Modalidade', 120, yPosition);
            doc.text('Status', 155, yPosition);
            doc.text('Horas Hoje', 175, yPosition);
            
            yPosition += 10;
            
          
            doc.setFont("helvetica", "normal");
            dadosEstagiarios.forEach((estagiario) => {
                if (yPosition > 270) {
                    doc.addPage();
                    yPosition = 20;
                }
                
                doc.text(estagiario.nome, 20, yPosition);
                doc.text(estagiario.area, 60, yPosition);
                doc.text(estagiario.jornada, 90, yPosition);
                doc.text(estagiario.modalidade, 120, yPosition);
                doc.text(estagiario.status === 'online' ? 'Online' : 'Offline', 155, yPosition);
                doc.text(estagiario.horasHoje, 175, yPosition);
                
                yPosition += 8;
            });
            
          
            doc.addPage();
            doc.setFont("helvetica", "bold");
            doc.setFontSize(14);
            doc.text('Resumo de Carga Horária', 20, 20);
            
            yPosition = 35;
            doc.setFont("helvetica", "bold");
            doc.setFontSize(8);
            doc.text('Nome', 20, yPosition);
            doc.text('Horas Semana', 60, yPosition);
            doc.text('Horas Mês', 100, yPosition);
            doc.text('Meta Mensal', 140, yPosition);
            doc.text('Progresso', 175, yPosition);
            
            yPosition += 10;
            
            doc.setFont("helvetica", "normal");
            dadosEstagiarios.forEach((estagiario) => {
                doc.text(estagiario.nome, 20, yPosition);
                doc.text(estagiario.horasSemana, 60, yPosition);
                doc.text(estagiario.horasMes, 100, yPosition);
                doc.text(estagiario.metaMensal, 140, yPosition);
                doc.text(`${estagiario.progresso}%`, 175, yPosition);
                
                yPosition += 8;
            });
            
            
            const pageCount = doc.internal.getNumberOfPages();
            for (let i = 1; i <= pageCount; i++) {
                doc.setPage(i);
                doc.setFont("helvetica", "normal");
                doc.setFontSize(8);
                doc.text(`Página ${i} de ${pageCount}`, 170, 290);
                doc.text('SEICE - Sistema de Presença e Carga de Estagiários', 20, 290);
            }
            
           
            doc.save(`relatorio-presenca-${new Date().toISOString().split('T')[0]}.pdf`);
        }

        // ==================== exportação excell ====================
        function exportarExcel() {
       
            const wb = XLSX.utils.book_new();
            
          
            const dadosEstagiariosPlanilha = dadosEstagiarios.map(e => ({
                'Nome': e.nome,
                'Email': e.email,
                'Área': e.area,
                'Jornada': e.jornada,
                'Modalidade': e.modalidade,
                'Data Início': e.inicio,
                'Status Atual': e.status === 'online' ? 'Online' : 'Offline',
                'Localização': e.localizacao === 'office' ? 'Escritório' : 'Remoto'
            }));
            
            const wsEstagiarios = XLSX.utils.json_to_sheet(dadosEstagiariosPlanilha);
            XLSX.utils.book_append_sheet(wb, wsEstagiarios, "Estagiários");
            
          
            const presencaHoje = dadosEstagiarios.map(e => ({
                'Estagiário': e.nome,
                'Entrada': e.entrada,
                'Saída Prevista': e.saidaPrevista,
                'Status': e.status === 'online' ? 'Online' : 'Offline',
                'Localização': e.localizacao === 'office' ? 'Escritório' : 'Remoto',
                'Jornada': e.jornada,
                'Horas Trabalhadas': e.horasHoje,
                'Progresso %': e.progresso + '%'
            }));
            
            const wsPresencaHoje = XLSX.utils.json_to_sheet(presencaHoje);
            XLSX.utils.book_append_sheet(wb, wsPresencaHoje, "Presença Hoje");
            
            
            const cargaHoraria = dadosEstagiarios.map(e => ({
                'Estagiário': e.nome,
                'Jornada Diária': e.jornada,
                'Horas Hoje': e.horasHoje,
                'Horas Semana': e.horasSemana,
                'Horas Mês': e.horasMes,
                'Meta Mensal': e.metaMensal,
                'Progresso %': e.progresso + '%',
                'Status Meta': e.progresso >= 90 ? 'No Prazo' : 'Atrasado'
            }));
            
            const wsCargaHoraria = XLSX.utils.json_to_sheet(cargaHoraria);
            XLSX.utils.book_append_sheet(wb, wsCargaHoraria, "Carga Horária");
            
            
            const historicoFormatado = historicoPresencas.map(h => ({
                'Data': h.data,
                'Estagiário': h.estagiario,
                'Entrada': h.entrada,
                'Saída': h.saida,
                'Horas Trabalhadas': h.horas,
                'Localização': h.localizacao === 'office' ? 'Escritório' : 'Remoto',
                'Status': h.status === 'online' ? 'Online' : h.status === 'finalizado' ? 'Finalizado' : 'Offline',
                'Jornada': h.jornada
            }));
            
            const wsHistorico = XLSX.utils.json_to_sheet(historicoFormatado);
            XLSX.utils.book_append_sheet(wb, wsHistorico, "Histórico");
            
          
            const estatisticas = [
                { 'Métrica': 'Total de Estagiários', 'Valor': dadosEstagiarios.length },
                { 'Métrica': 'Presentes Hoje', 'Valor': dadosEstagiarios.filter(e => e.status === 'online').length },
                { 'Métrica': 'Online', 'Valor': dadosEstagiarios.filter(e => e.status === 'online').length },
                { 'Métrica': 'Trabalhando Remoto', 'Valor': dadosEstagiarios.filter(e => e.localizacao === 'home').length },
                { 'Métrica': 'Trabalhando Presencial', 'Valor': dadosEstagiarios.filter(e => e.localizacao === 'office').length },
                { 'Métrica': 'Modalidade Presencial', 'Valor': dadosEstagiarios.filter(e => e.modalidade === 'Presencial').length },
                { 'Métrica': 'Modalidade Híbrida', 'Valor': dadosEstagiarios.filter(e => e.modalidade === 'Híbrido').length },
                { 'Métrica': 'Taxa de Presença (%)', 'Valor': '94.2%' },
                { 'Métrica': 'Horas Acumuladas (Mês)', 'Valor': '2.847h' },
                { 'Métrica': 'Média Horas/Estagiário', 'Valor': '6.2h' }
            ];
            
            const wsEstatisticas = XLSX.utils.json_to_sheet(estatisticas);
            XLSX.utils.book_append_sheet(wb, wsEstatisticas, "Estatísticas");
           
            XLSX.writeFile(wb, `relatorio-completo-${new Date().toISOString().split('T')[0]}.xlsx`);
        }

        // ==================== funcionalidade de exportação ====================
        function initializeExportFunctions() {

            document.querySelectorAll('.btn').forEach(btn => {
                if (btn.innerHTML.includes('fa-file-pdf') || btn.textContent.includes('Gerar PDF')) {
                    btn.addEventListener('click', function() {
                        showLoadingButton(this, 'Gerando PDF...');
                        setTimeout(() => {
                            gerarPDF();
                            hideLoadingButton(this, '<i class="fas fa-file-pdf"></i> Gerar PDF');
                            showNotification('PDF gerado com sucesso!', 'success');
                        }, 1000);
                    });
                }
            });

           
            document.querySelectorAll('.btn').forEach(btn => {
                if (btn.innerHTML.includes('fa-file-excel') || btn.textContent.includes('Exportar Excel') || btn.textContent.includes('Exportar')) {
                    btn.addEventListener('click', function() {
                        showLoadingButton(this, 'Exportando...');
                        setTimeout(() => {
                            exportarExcel();
                            hideLoadingButton(this, '<i class="fas fa-file-excel"></i> Exportar Excel');
                            showNotification('Excel exportado com sucesso!', 'success');
                        }, 1000);
                    });
                }
            });
        }

        // ==================== fltros e busca  ====================
        function initializeFilters() {
        
            document.querySelectorAll('.btn').forEach(btn => {
                if (btn.textContent.includes('Filtrar')) {
                    btn.addEventListener('click', function() {
                        showLoadingButton(this, 'Filtrando...');
                        setTimeout(() => {
                            // Aqui vai ser implementado a lógica de filtro real
                            hideLoadingButton(this, '<i class="fas fa-filter"></i> Filtrar');
                            showNotification('Filtros aplicados!', 'info');
                        }, 1500);
                    });
                }
            });

        
            document.querySelectorAll('.btn').forEach(btn => {
                if (btn.textContent.includes('Gerar') && !btn.textContent.includes('PDF')) {
                    btn.addEventListener('click', function() {
                        showLoadingButton(this, 'Gerando...');
                        setTimeout(() => {
                            hideLoadingButton(this, '<i class="fas fa-chart-bar"></i> Gerar');
                            showNotification('Relatório atualizado!', 'info');
                        }, 2000);
                    });
                }
            });
        }

        // ==================== atualizações em tempo real ====================
        function initializeRealTimeUpdates() {
         
            setInterval(updateProgress, 30000);
            
        
            setInterval(updateOnlineStatus, 60000);
            
           
            setInterval(updateDashboardStats, 120000);
        }

        function updateProgress() {
            const progressBars = document.querySelectorAll('.progress-fill');
            progressBars.forEach(bar => {
                const currentWidth = parseInt(bar.style.width);
                if (currentWidth < 100) {
                    const newWidth = Math.min(100, currentWidth + Math.random() * 2);
                    bar.style.width = newWidth + '%';
                }
            });
        }

        function updateOnlineStatus() {
            const statusBadges = document.querySelectorAll('.status-badge');
            statusBadges.forEach(badge => {
                if (Math.random() > 0.95) { 
                    if (badge.classList.contains('status-online')) {
                        badge.classList.remove('status-online');
                        badge.classList.add('status-offline');
                        badge.textContent = 'Offline';
                    } else if (badge.classList.contains('status-offline') && Math.random() > 0.7) {
                        badge.classList.remove('status-offline');
                        badge.classList.add('status-online');
                        badge.textContent = 'Online';
                    }
                }
            });
        }

        function updateDashboardStats() {
          
            const onlineCount = dadosEstagiarios.filter(e => e.status === 'online').length;
            const remoteCount = dadosEstagiarios.filter(e => e.localizacao === 'home').length;
            
            
            document.querySelector('#dashboard .stat-card:nth-child(2) p').textContent = onlineCount + Math.floor(Math.random() * 3);
            document.querySelector('#dashboard .stat-card:nth-child(3) p').textContent = onlineCount;
            document.querySelector('#dashboard .stat-card:nth-child(4) p').textContent = remoteCount;
        }

      
        function showLoadingButton(button, text) {
            button.dataset.originalText = button.innerHTML;
            button.innerHTML = `<i class="fas fa-spinner fa-spin"></i> ${text}`;
            button.disabled = true;
        }

        function hideLoadingButton(button, originalText) {
            button.innerHTML = originalText || button.dataset.originalText;
            button.disabled = false;
        }

        function showNotification(message, type = 'info') {
           
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#38a169' : type === 'error' ? '#e53e3e' : '#3182ce'};
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 9999;
                font-weight: 500;
                animation: slideIn 0.3s ease;
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
          
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // ==================== check in/ check out ====================
        function realizarCheckin() {
            const estagiarioId = document.getElementById('checkin-estagiario').value;
            const localizacao = document.getElementById('checkin-localizacao').value;
            const observacao = document.getElementById('checkin-observacao').value;
            
            if (!estagiarioId || !localizacao) {
                showNotification('Por favor, selecione o estagiário e a localização', 'error');
                return;
            }
            
         
            const estagiario = dadosEstagiarios.find(e => e.id == estagiarioId);
            if (estagiario) {
                estagiario.status = 'online';
                estagiario.localizacao = localizacao;
                estagiario.entrada = new Date().toLocaleTimeString('pt-BR', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                
                showNotification(`Check-in realizado para ${estagiario.nome}!`, 'success');
                document.getElementById('modal-checkin').style.display = 'none';
                
                
                document.getElementById('checkin-estagiario').value = '';
                document.getElementById('checkin-localizacao').value = '';
                document.getElementById('checkin-observacao').value = '';
                
             
                updatePresencaTable();
            }
        }

        function realizarCheckout() {
            const estagiarioId = document.getElementById('checkout-estagiario').value;
            const observacao = document.getElementById('checkout-observacao').value;
            
            if (!estagiarioId) {
                showNotification('Por favor, selecione o estagiário', 'error');
                return;
            }
            
            
            const estagiario = dadosEstagiarios.find(e => e.id == estagiarioId);
            if (estagiario) {
                estagiario.status = 'offline';
                const agora = new Date().toLocaleTimeString('pt-BR', { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });
                
                showNotification(`Check-out realizado para ${estagiario.nome}!`, 'success');
                document.getElementById('modal-checkout').style.display = 'none';
                
               
                document.getElementById('checkout-estagiario').value = '';
                document.getElementById('checkout-observacao').value = '';
                
              
                updatePresencaTable();
              

                historicoPresencas.unshift({
                    data: new Date().toLocaleDateString('pt-BR'),
                    estagiario: estagiario.nome,
                    entrada: estagiario.entrada,
                    saida: agora,
                    horas: estagiario.horasHoje,
                    localizacao: estagiario.localizacao,
                    status: 'finalizado',
                    jornada: estagiario.jornada
                });
            }
        }

        // ==================== atualização de tables ====================
        function updatePresencaTable() {
            const tbody = document.querySelector('#presencas-hoje-tabela');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            dadosEstagiarios.forEach(estagiario => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${estagiario.nome}</td>
                    <td>${estagiario.entrada}</td>
                    <td>${estagiario.saidaPrevista}</td>
                    <td><span class="status-badge ${estagiario.status === 'online' ? 'status-presente' : 'status-ausente'}">${estagiario.status === 'online' ? 'Presente' : 'Ausente'}</span></td>
                    <td><span class="location-badge ${estagiario.localizacao === 'office' ? 'location-office' : 'location-home'}">
                        <i class="fas ${estagiario.localizacao === 'office' ? 'fa-building' : 'fa-home'}"></i> 
                        ${estagiario.localizacao === 'office' ? 'Escritório' : 'Remoto'}
                    </span></td>
                    <td>${estagiario.jornada}</td>
                    <td>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: ${estagiario.progresso}%"></div>
                        </div>
                        ${estagiario.horasHoje}
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        // ==================== funcionalidades de busca ====================
        function initializeSearchFunctions() {
        
            const searchInputs = document.querySelectorAll('input[type="text"]');
            searchInputs.forEach(input => {
                if (input.placeholder.includes('Buscar')) {
                    input.addEventListener('input', function() {
                        const searchTerm = this.value.toLowerCase();
                        const table = this.closest('.page').querySelector('table');
                        
                        if (table) {
                            const rows = table.querySelectorAll('tbody tr');
                            rows.forEach(row => {
                                const text = row.textContent.toLowerCase();
                                row.style.display = text.includes(searchTerm) ? '' : 'none';
                            });
                        }
                    });
                }
            });
        }

        // ==================== calculadora de horas ====================
        function calcularHoras() {
            const entrada = document.getElementById('calc-entrada').value;
            const saida = document.getElementById('calc-saida').value;
            const intervalo = document.getElementById('calc-intervalo').value || 0;
            
            if (!entrada || !saida) {
                showNotification('Por favor, preencha horário de entrada e saída', 'error');
                return;
            }
            
            const [horaEntrada, minutoEntrada] = entrada.split(':').map(Number);
            const [horaSaida, minutoSaida] = saida.split(':').map(Number);
            
            const entradaMinutos = horaEntrada * 60 + minutoEntrada;
            const saidaMinutos = horaSaida * 60 + minutoSaida;
            
            let totalMinutos = saidaMinutos - entradaMinutos - (intervalo * 60);
            
            if (totalMinutos < 0) {
                totalMinutos += 24 * 60; 
            }
            
            const horas = Math.floor(totalMinutos / 60);
            const minutos = totalMinutos % 60;
            
            const resultado = `${horas}h ${minutos}min`;
            document.getElementById('resultado-calculo').textContent = resultado;
            
            showNotification(`Resultado: ${resultado}`, 'success');
        }

        // ==================== relatorios ====================
        function gerarRelatorioPersonalizado() {
            const periodo = document.getElementById('relatorio-periodo').value;
            const tipo = document.getElementById('relatorio-tipo').value;
            const modalidade = document.getElementById('relatorio-modalidade').value;
            
            
            let dadosFiltrados = dadosEstagiarios;
            
            if (modalidade) {
                dadosFiltrados = dadosFiltrados.filter(e => {
                    if (modalidade === 'presencial') return e.modalidade === 'Presencial';
                    if (modalidade === 'remoto') return e.modalidade === 'Remoto';
                    if (modalidade === 'hibrido') return e.modalidade === 'Híbrido';
                    return true;
                });
            }
            
            
            updateRelatorioStats(dadosFiltrados);
            
            showNotification('Relatório personalizado gerado!', 'success');
        }

        function updateRelatorioStats(dados) {
            const totalPresencas = dados.length;
            const totalHoras = dados.reduce((acc, e) => {
                const horas = parseFloat(e.horasMes.replace(/[^\d,]/g, '').replace(',', '.'));
                return acc + horas;
            }, 0);
            const mediaHoras = totalHoras / totalPresencas;
            
           
            const estatCards = document.querySelectorAll('#relatorios .stat-card p');
            if (estatCards.length >= 4) {
                estatCards[1].textContent = Math.round(totalHoras) + 'h';
                estatCards[2].textContent = Math.round((dados.filter(e => e.localizacao === 'office').length / dados.length) * 100) + '%';
                estatCards[3].textContent = Math.round((dados.filter(e => e.localizacao === 'home').length / dados.length) * 100) + '%';
            }
        }

        // ==================== backup e restauração ====================
        function backupDados() {
            const backup = {
                timestamp: new Date().toISOString(),
                version: '1.0.0',
                estagiarios: dadosEstagiarios,
                historico: historicoPresencas,
                configuracoes: {
                    empresa: 'SEICE',
                    sistema: 'Sistema de Presença e Carga de Estagiários'
                }
            };
            
            const dataStr = JSON.stringify(backup, null, 2);
            const blob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = `backup-spce-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            showNotification('Backup realizado com sucesso!', 'success');
        }

       
        function aplicarFiltrosAvancados() {
            const filtros = {
                estagiario: document.getElementById('filtro-estagiario').value,
                dataInicio: document.getElementById('filtro-data-inicio').value,
                dataFim: document.getElementById('filtro-data-fim').value,
                localizacao: document.getElementById('filtro-localizacao').value
            };
            
            let dadosFiltrados = [...historicoPresencas];
            
            if (filtros.estagiario) {
                const nomeEstagiario = dadosEstagiarios.find(e => e.id == filtros.estagiario)?.nome;
                dadosFiltrados = dadosFiltrados.filter(h => h.estagiario === nomeEstagiario);
            }
            
            if (filtros.localizacao) {
                dadosFiltrados = dadosFiltrados.filter(h => h.localizacao === filtros.localizacao);
            }
            
            if (filtros.dataInicio) {
                dadosFiltrados = dadosFiltrados.filter(h => {
                    const dataHistorico = new Date(h.data.split('/').reverse().join('-'));
                    const dataFiltro = new Date(filtros.dataInicio);
                    return dataHistorico >= dataFiltro;
                });
            }
            
            if (filtros.dataFim) {
                dadosFiltrados = dadosFiltrados.filter(h => {
                    const dataHistorico = new Date(h.data.split('/').reverse().join('-'));
                    const dataFiltro = new Date(filtros.dataFim);
                    return dataHistorico <= dataFiltro;
                });
            }
            
            updateHistoricoTable(dadosFiltrados);
            showNotification(`${dadosFiltrados.length} registros encontrados`, 'info');
        }

        function updateHistoricoTable(dados) {
            const tbody = document.querySelector('#presencas table tbody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            dados.forEach(registro => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${registro.data}</td>
                    <td>${registro.estagiario}</td>
                    <td>${registro.entrada}</td>
                    <td>${registro.saida}</td>
                    <td>${registro.horas}</td>
                    <td><span class="location-badge ${registro.localizacao === 'office' ? 'location-office' : 'location-home'}">
                        <i class="fas ${registro.localizacao === 'office' ? 'fa-building' : 'fa-home'}"></i> 
                        ${registro.localizacao === 'office' ? 'Escritório' : 'Remoto'}
                    </span></td>
                    <td><span class="status-badge ${registro.status === 'online' ? 'status-online' : registro.status === 'finalizado' ? 'status-ausente' : 'status-offline'}">${registro.status === 'online' ? 'Online' : registro.status === 'finalizado' ? 'Finalizado' : 'Offline'}</span></td>
                    <td>${registro.jornada}</td>
                `;
                tbody.appendChild(row);
            });
        }

        
        document.addEventListener('DOMContentLoaded', function() {
   
            document.querySelector('#modal-checkin .btn.primary').addEventListener('click', realizarCheckin);
            document.querySelector('#modal-checkout .btn.primary').addEventListener('click', realizarCheckout);
            
         
            initializeSearchFunctions();
            
            
            document.querySelector('#presencas .btn.secondary').addEventListener('click', aplicarFiltrosAvancados);
            
           
            document.querySelector('#relatorios .btn.secondary:last-child').addEventListener('click', gerarRelatorioPersonalizado);
            
          
            setTimeout(updatePresencaTable, 100);
        });

   
        const additionalStyles = `
            @keyframes slideIn {
                from { transform: translateX(300px); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(300px); opacity: 0; }
            }
            
            .notification {
                animation: slideIn 0.3s ease;
            }
            
            .stat-card:hover {
                transform: translateY(-5px) scale(1.02);
            }
            
            .btn:hover {
                transform: translateY(-1px);
            }
            
            .progress-fill {
                background: linear-gradient(90deg, #f6e05e, #faf089, #d69e2e);
                box-shadow: 0 2px 4px rgba(246, 224, 94, 0.3);
            }
            
            .location-badge {
                transition: all 0.3s ease;
            }
            
            .location-badge:hover {
                transform: scale(1.1);
            }
            
            table tr:hover {
                background-color: rgba(246, 224, 94, 0.1);
                transition: background-color 0.3s ease;
            }
            
            .modal-content {
                animation: modalSlideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            }
            
            @keyframes modalSlideIn {
                0% {
                    opacity: 0;
                    transform: translateY(-50px) scale(0.9);
                }
                100% {
                    opacity: 1;
                    transform: translateY(0) scale(1);
                }
            }
        `;
        
      
        const styleSheet = document.createElement('style');
        styleSheet.textContent = additionalStyles;
        document.head.appendChild(styleSheet);

   
        function formatarTempo(minutos) {
            const horas = Math.floor(minutos / 60);
            const mins = minutos % 60;
            return `${horas}h ${mins}min`;
        }

        function validarHorario(horario) {
            const regex = /^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/;
            return regex.test(horario);
        }

        function calcularDiferencaTempo(inicio, fim) {
            const [horaInicio, minutoInicio] = inicio.split(':').map(Number);
            const [horaFim, minutoFim] = fim.split(':').map(Number);
            
            const inicioMinutos = horaInicio * 60 + minutoInicio;
            const fimMinutos = horaFim * 60 + minutoFim;
            
            return fimMinutos - inicioMinutos;
        }

       
        console.log('🎯 SEICE - Sistema de Presença e Carga de Estagiários');
        console.log('✅ Sistema inicializado com sucesso!');
        console.log('📊 Total de estagiários carregados:', dadosEstagiarios.length);
        console.log('📋 Total de registros no histórico:', historicoPresencas.length);
        console.log('🔧 Funcionalidades ativas: PDF, Excel, Filtros, Tempo Real');
    </script>
</body>
</html>
</body>
</html>